import osmnx as ox
import osm_to_cleaned as otc
import copy

route = [
    802816696,
    11818544350,
    11818544348,
    11818544346,
    11818544344,
    5245767054,
    11818544354,
    11818544352,
    444470780,
    5245767056,
    11818544342,
    11818544341,
    802816794,
    11818544330,
    7247527409,
    802816623,
    802817177,
    5245767052,
    11818544408,
    7247527395,
    5245767050,
    802817229,
    7247527393,
    7247527386,
    291164801,
    493969696,
    444484448,
    3233410542,
    291164804,
    7247527259,
    291164805,
    7247527178,
    5245769418,
    11818543201,
    265603715,
    265603713,
    804345649,
    7247527169,
    265603711,
    2586582035,
    265603707,
    265603705,
    283387133,
    2586582079,
    11818543203,
    2899545257,
    11818544437,
    268642069,
    3844352658,
    7247527144,
    11818543220,
    26024781,
    802830899,
    3844356282,
    7247527141,
    3844356359,
    7247527139,
    48029118,
    3246238162,
    7544312279,
    3246237959,
    2446862420,
    265603696,
    2446862446,
    5245803986,
    6106615027,
    1020154338,
    428960700,
    8704203016,
    10974576359,
    281295603,
    2446862509,
    377654332,
    10974576356,
    10974576348,
    1149271040,
    1131224547,
    253411970,
    41989558,
    6106165307,
    26024786,
    3761058074,
    3761232059,
    6106165314,
    3761232464,
    277691070,
    6106165320,
    3741425826,
    3741420334,
    3767411062,
    3768357761,
    2087199424,
    31282265,
    253411964,
    11833592540,
    287582926,
    26024788,
    175831445,
    8527017630,
    3218628169,
    3218628668,
    3218628482,
    3875850247,
    3218345267,
    31282262,
    96681759,
    96671051,
    97862570,
    3197841662,
    26024791,
    3220950766,
    1131243534,
    31282261,
    9223253135,
    2059695204,
    262994011,
    1760530094,
    6106013241,
    266784291,
    31282258,
    254000890,
    267922307,
    247037868,
    132294027,
    132294020,
    52184882,
    91824202,
    371146452,
    3252843022,
    31282253,
    398990,
    17475949,
    312051109,
    123412634,
    17475956,
    1377350242,
    11850918390,
    17475968,
    1596672738,
    1595216861,
    30358916,
    265441,
    2929885145,
    188472727,
    188475884,
    1099560796,
    27457786,
    1099538478,
    281767,
    281784,
    282247,
    281812,
    25335917,
    564059,
    128971,
    129002,
    1380719681,
    440566,
    1029615236,
    1029615040,
    375630,
    129077,
    293381144,
    1536724678,
    1536724873,
    129095,
    2927683567,
    21582784,
    129129,
    1436372639,
    129141,
    129152,
    129177,
    129178,
    129197,
    343319546,
    129210,
    257728735,
    1618156268,
    21557325,
    2375856595,
    2982682529,
    257728603,
    26196833,
    257730193,
    2070791832,
    21557318,
    8391134620,
    257730241,
    1427917541,
    2989380376,
    1419125566,
    26207105,
    2287766386,
    2056053157,
    34030286,
    2989380362,
    2989380366,
    8061603337,
    4115944275,
    8061603347,
    10651361491,
    8931023147,
    8931023156,
    4115944272,
    8931023170,
    4115951190,
    10649508483,
    8931014960,
    34030302,
    2056053158,
    10694412122,
    9409530690,
    9041761866,
    6839923155,
    10694397670,
    26206857,
    1423786066,
    26206858,
    6839923140,
    9982999731,
    281275060,
    3775228946,
    10648377702,
    3775228953,
    3775228956,
    3775229359,
    3775229360,
    2632793772,
    3775229364,
    2632793780,
    457819998,
    9041501776,
    9982956675,
    7178196026,
    2539591178,
    9042366358,
    4129586674,
    9042366342,
    6154304105,
    3138878681,
    8768071550,
    9042354996,
    9042355000,
    3138878676,
    26207072,
    6839923404,
    9042355009,
    9042354943,
    9042355007,
    34030330,
    9042354949,
    34030328,
    639151333,
    34030327,
]

route_set = set(route)
graph = otc.osm_to_cleaned()

for node, data in list(graph.nodes(data=True)):
    if node not in route_set:
        graph.remove_node(node)

map_path = "./src/main/resources/route.html"
gdf = ox.graph_to_gdfs(graph, nodes=False)
gdf.explore().save(map_path)

ox.plot.plot_graph_route(graph, route)
